<div class="basicc-card">
  <a class="basicc" (click)="openModal()"> <i class="fas fa-plus"></i> ADD </a>
</div>
  

<!-- <div *ngIf="successmessage" class="success-message">
  {{ successMessage }}
</div> -->

<div class="modal" *ngIf="isModalOpen">
  <div class="modal-content">   
    <span class="close-btn" (click)="closeModal()">×</span> 
    <h2>Add New Blog</h2>

    <form #blogForm="ngForm" class="form-container">
      
      <div class="form-group">
        <label for="countryName">Title</label>
        <input id="countryName" name="title" [(ngModel)]="title" required class="input-field" />
      </div>

      <div class="form-group">
        <label for="countryCode">Description</label>
        <input id="countryCode" name="description" [(ngModel)]="description" required class="input-field" />
      </div>

      <div class="form-group">
        <label for="countryImage">Image</label>
        <input type="file" id="countryImage" (change)="onFileChange($event)" class="input-field" />
      </div>
      <div class="form-group">
        <label for="countryCode">Date</label>
        <input id="countryCode" name="date" [(ngModel)]="date" required class="input-field" />
      </div>

      <div class="form-group">
        <label for="countryCode">Likes</label>
        <input id="countryCode" name="likes" [(ngModel)]="likes" required class="input-field" />
      </div>

      <div class="form-actions">
        <button type="submit" class="btn-submit" (click)="submitBlog()">Add Blog</button>
      </div>
    </form>
  </div>
</div>  

<!-- Modal for Editing Blog -->
<div class="modal"  *ngIf="isModaleditOpen">
  <div class="modal-content">
    <span class="close-btn" (click)="closeEditModal()">×</span>
    <h2>Edit Blog</h2>
    <form #blogForm="ngForm" class="form-container">
      <div class="form-group">
        <label for="title">Title</label>
        <input id="title" name="title" [(ngModel)]="title" required class="input-field" />
      </div>

      <div class="form-group">
        <label for="description">Description</label>
        <input id="description" name="description" [(ngModel)]="description" required class="input-field" />
      </div>

      <div class="form-group">
        <div *ngIf="image">
          <p>Selected Image:</p>
         <img [src]="image" alt="Selected Image" />
        </div>
        <label for="image">Image</label>
        <input type="file" id="image" (change)="onFileChange($event)" class="input-field" />
        <div *ngIf="imageWarning" class="warning-message">
          {{ imageWarning }}
        </div>
      </div>
      

      <div class="form-group">
        <label for="date">Date</label>
        <input id="date" name="date" [(ngModel)]="date" required class="input-field" />
      </div>


      <div class="form-actions">
        <button type="button" class="btn-submit" (click)="saveCard()">Save Changes</button>
        <button type="button" class="btn-cancel" (click)="closeEditModal()">Cancel</button>
      </div>
    </form>
  </div>
</div>

<table class="blog-table">
  <thead>
    <tr>
      <th>Title</th>
      <th>Description</th>
      <th>Image</th>
      <th>Date</th>
      <th>Likes</th>
      <th>Actions</th> 
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of blogsList; let i = index;">
      <td>{{ item.title }}</td>
      <td>{{ item.description }}</td>
      <td><img [src]="item.image" [alt]="item.image" class="blog-image" /></td>
      <td>{{ item.date }}</td>
      <td>{{ item.likes }}</td>
      <td>
        <button (click)="openEditModal(item, i)" style="color: #624ed3;">
          <i class="fas fa-edit"></i> 
        </button>
        <button (click)="deleteCard(item?._id)" style="color:rgb(218, 38, 38)">
          <i class="fas fa-trash"></i> 
        </button>
      </td>
    </tr>
  </tbody>
</table>

